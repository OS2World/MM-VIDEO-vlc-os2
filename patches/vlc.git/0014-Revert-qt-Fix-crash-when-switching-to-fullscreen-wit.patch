From 1ca5643a9932421c418168ceb4248f9811707a34 Mon Sep 17 00:00:00 2001
From: KO Myung-Hun <komh@chollian.net>
Date: Fri, 26 Jan 2018 19:06:01 +0900
Subject: [PATCH 14/24] Revert "qt: Fix crash when switching to fullscreen with
 video undocked"

This reverts commit 78e2351cb5ccfb0c8a4e431f19d3b79a1e67175b.
---
 modules/gui/qt/components/controller.cpp | 10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

diff --git a/modules/gui/qt/components/controller.cpp b/modules/gui/qt/components/controller.cpp
index f780f5bd49..19666291d6 100644
--- a/modules/gui/qt/components/controller.cpp
+++ b/modules/gui/qt/components/controller.cpp
@@ -874,16 +874,12 @@ void FullscreenControllerWidget::restoreFSC()
             return;
 
         QRect currentRes = QApplication::desktop()->screenGeometry( targetScreen() );
-        QWindow *wh = windowHandle();
-        if ( wh != Q_NULLPTR )
-        {
 #ifdef QT5_HAS_WAYLAND
-            if ( !b_hasWayland )
-                wh->setScreen(QGuiApplication::screens()[targetScreen()]);
+        if ( !b_hasWayland )
+            windowHandle()->setScreen(QGuiApplication::screens()[targetScreen()]);
 #else
-            wh->setScreen(QGuiApplication::screens()[targetScreen()]);
+        windowHandle()->setScreen(QGuiApplication::screens()[targetScreen()]);
 #endif
-        }
 
         if( currentRes == screenRes &&
             QApplication::desktop()->screen()->geometry().contains( previousPosition, true ) )
-- 
2.13.3

